# This is the uap configuration file.
 
destination_path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19

steps:
    # Download all chromosomal sequences
    hg19_UCSC (raw_url_sources):
        run-download-info:
            chr1:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr1.fa.gz
                secure-hash:  e103808b81f7d0a52353dee92d2ff164
                hashing-algorithm: md5
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr1.fa
                uncompress: yes
            chr2:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr2.fa.gz
                hashing-algorithm: md5
                secure-hash: 1946d3b6b9cf0e8f15f014fe63c75eac
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr2.fa
                uncompress: yes
            chr3:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr3.fa.gz
                hashing-algorithm: md5
                secure-hash: 9f199c648332571687e8c64e4c584397
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr3.fa
                uncompress: yes
            chr4:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr4.fa.gz
                hashing-algorithm: md5
                secure-hash: da9d6307ffedb6f7dd44713ac17e65e5
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr4.fa
                uncompress: yes
            chr5:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr5.fa.gz
                hashing-algorithm: md5
                secure-hash: 95488cfaab43ddd45985d88c6666dad0
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr5.fa
                uncompress: yes
            chr6:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr6.fa.gz
                hashing-algorithm: md5
                secure-hash: bd20fdafbdce6e7c09a6fdc05d8ee639
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr6.fa
                uncompress: yes
            chr7:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr7.fa.gz
                hashing-algorithm: md5
                secure-hash: 9cae8bfb66ff722942b2618eb5f4a776
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr7.fa
                uncompress: yes
            chr8:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr8.fa.gz
                hashing-algorithm: md5
                secure-hash: db70cc0a9cef32f3a09ba5e5348a0475
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr8.fa
                uncompress: yes
            chr9:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr9.fa.gz
                hashing-algorithm: md5
                secure-hash: cfef5926429a288174197e40c5e3c190
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr9.fa
                uncompress: yes
            chr10:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr10.fa.gz
                hashing-algorithm: md5
                secure-hash: 508a1e86cc0f64257dd0c9775462eebf
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr10.fa
                uncompress: yes
            chr11:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr11.fa.gz
                hashing-algorithm: md5
                secure-hash: 63201d72077ec57d03582be7104d483f
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr11.fa
                uncompress: yes
            chr12:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr12.fa.gz
                hashing-algorithm: md5
                secure-hash: 3580abf7788b335755f4172aff5c343b
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr12.fa
                uncompress: yes
            chr13:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr13.fa.gz
                hashing-algorithm: md5
                secure-hash: a48e9c56b167edc089df7ab141001e5d
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr13.fa
                uncompress: yes
            chr14:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr14.fa.gz
                hashing-algorithm: md5
                secure-hash: 4376df28ef2090e079581ea81a7dd2e6
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr14.fa
                uncompress: yes
            chr15:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr15.fa.gz
                hashing-algorithm: md5
                secure-hash: 2e8a6f32e876aad1e431fde3d296f1a3
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr15.fa
                uncompress: yes
            chr16:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr16.fa.gz
                hashing-algorithm: md5
                secure-hash: 48466e0aa58f3be5802ad8e6b692cbec
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr16.fa
                uncompress: yes
            chr17:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr17.fa.gz
                hashing-algorithm: md5
                secure-hash: ee98e8346d23ccd91fb7ef60e9ccede9
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr17.fa
                uncompress: yes
            chr18:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr18.fa.gz
                hashing-algorithm: md5
                secure-hash: 571f5e0300b79a95c47849851ae191ff
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr18.fa
                uncompress: yes
            chr19:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr19.fa.gz
                hashing-algorithm: md5
                secure-hash: 173b9cc2ec39c73668480f4f25701bc3
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr19.fa
                uncompress: yes
            chr20:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr20.fa.gz
                hashing-algorithm: md5
                secure-hash: f8205d1d1758b5d6c6f5a27130c8e339
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr20.fa
                uncompress: yes
            chr21:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr21.fa.gz
                hashing-algorithm: md5
                secure-hash: 26cdd5a3a539b63930752604feb2912b
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr21.fa
                uncompress: yes
            chr22:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chr22.fa.gz
                hashing-algorithm: md5
                secure-hash: 2baab477ebcc5a0f4163608ec93e4744
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chr22.fa
                uncompress: yes
            chrX:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chrX.fa.gz
                hashing-algorithm: md5
                secure-hash: fc72202e734abafb9aaf19c4c9539e58
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chrX.fa
                uncompress: yes
            chrY:
                url: ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes/chrY.fa.gz
                hashing-algorithm: md5
                secure-hash: 4cb6af23d522f96f2e42f32c2ab242fa
                path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/fasta
                filename: chrY.fa
                uncompress: yes

    # Merge downloaded sequences into single fasta file
    hg19_UCSC_complete_genome (merge_fasta_files):
        _depends: hg19_UCSC
        _connect:
            in/sequence: hg19_UCSC/raw
        compress-output: no
        merge-all-sequences: yes
        output-fasta-basename: hg19_all_chr_UCSC

    hg19_bowtie2_index (bowtie2_generate_index):
        _depends: hg19_UCSC_complete_genome
        _connect: 
            in/reference_sequence: hg19_UCSC_complete_genome/sequence
        index-basename: bowtie2_index

#    ## !ATTENTION! 
#    ## only enable if your machine possesses enough RAM (~60GB)
#    ## otherwise this step is going to crash
#    hg19_segemehl_index (segemehl_generate_index):
#        _depends: hg19_UCSC_complete_genome
#        _connect:
#            in/reference_sequence: hg19_UCSC_complete_genome/sequence
#        index-basename: segemehl_index

    hg19_bwa_index (bwa_generate_index):
        _depends: hg19_UCSC_complete_genome
        _connect:
            in/reference_sequence: hg19_UCSC_complete_genome/sequence
        index-basename: bwa_index

    hg19_samtools_faidx (samtools_faidx):
        _depends: hg19_UCSC_complete_genome

    hg19_chrom_sizes (fetch_chrom_sizes_source):
        ucsc-database: hg19
        path: genomes/animalia/chordata/mammalia/primates/homo_sapiens/hg19/chromosome_sizes

tools:
    ##################
    # External Tools #
    ##################

    # URL: https://github.com/lh3/bwa
    bwa:
        path: bwa
        get_version: ''
        exit_code: 1
        
    # URL: http://bowtie-bio.sourceforge.net/bowtie2/index.shtml
    bowtie2-build:
        path: bowtie2-build
        get_version: --version
        exit_code: 0

    # URL: http://hgdownload.cse.ucsc.edu/admin/exe/linux.x86_64/fetchChromSizes
    fetchChromSizes:
        path: fetchChromSizes
        get_version: ''
        exit_code: 255

    # URL: http://zlib.net/pigz/
    pigz: 
        path: pigz
        get_version: --version
        exit_code: 0

    # URL: http://www.htslib.org/
    samtools:
        path: samtools
        get_version: --version
        exit_code: 0

#    # URL: http://www.bioinf.uni-leipzig.de/Software/segemehl/
#    segemehl:
#        path: segemehl.x
#        get_version: ''
#        exit_code: 255
                
    ##################
    # Internal Tools #
    ##################

    compare_secure_hashes:
        path: ../tools/compare_secure_hashes.py
        get_version: --version
        exit_code: 0

    ##############
    # Unix Tools #
    ##############

    cat:
        path: cat
        get_version: --version
        exit_code: 0

    cp:
        path: cp
        get_version: --version
        exit_code: 0

    curl:
        path: curl
        get_version: --version
        exit_code: 0

    dd:
        path: dd
        get_version: --version
        exit_code: 0

    mkdir:
        path: mkdir
        get_version: --version
        exit_code: 0
        
    mkfifo:
        path: mkfifo
        get_version: --version
        exit_code: 0

    mv:
        path: mv
        get_version: --version
        exit_code: 0